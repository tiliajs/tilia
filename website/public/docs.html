<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- SEO -->
  <!-- Primary Meta Tags -->
  <title>Tilia Documentation - Complete API Reference & Guide</title>
  <meta name="title" content="Tilia Documentation - Complete API Reference & Guide">
  <meta name="description"
    content="Complete documentation for Tilia state management library. Learn tilia, observe, signal, computed functions and React integration with useTilia hook.">
  <meta name="keywords"
    content="tilia documentation, API reference, tila, observe, computed, useTilia, React hook, state management guide, TypeScript tutorial, ReScript tutorial, pull reactivity, push reactivity">
  <meta name="author" content="Tilia Team">
  <meta name="robots" content="index, follow">

  <!-- Canonical URL -->
  <link rel="canonical" href="https://tiliajs.com/docs">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://tiliajs.com/docs">
  <meta property="og:title" content="Tilia Documentation - Complete API Reference & Guide">
  <meta property="og:description"
    content="Complete documentation for Tilia state management library. Learn all functions and React integration.">
  <meta property="og:image" content="https://tiliajs.com/logo.svg">
  <meta property="og:site_name" content="Tilia">
  <meta property="article:author" content="Tilia Team">
  <meta property="article:published_time" content="2025-05-24T00:00:00Z">
  <meta property="article:modified_time" content="2025-05-24T00:00:00Z">
  <meta property="article:section" content="Documentation">
  <meta property="article:tag" content="State Management">
  <meta property="article:tag" content="TypeScript">
  <meta property="article:tag" content="ReScript">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://tiliajs.com/docs">
  <meta property="twitter:title" content="Tilia Documentation - Complete API Reference & Guide">
  <meta property="twitter:description"
    content="Complete documentation for Tilia state management library. Learn all functions and React integration.">
  <meta property="twitter:image" content="https://tiliajs.com/logo.svg">

  <!-- Additional SEO -->
  <meta name="theme-color" content="#8B5CF6">
  <link rel="icon" type="image/svg+xml" href="/logo.svg">
  <link rel="apple-touch-icon" href="/logo.svg">

  <!-- JSON-LD Schema for Documentation -->
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "TechArticle",
  "headline": "Tilia Documentation - Complete API Reference & Guide",
  "description": "Complete documentation for Tilia state management library covering all API functions and React integration",
  "url": "https://tiliajs.com/docs",
  "datePublished": "2025-05-24",
  "dateModified": "2025-05-24",
  "author": {
    "@type": "Organization",
    "name": "Tilia Team"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Tilia"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://tiliajs.com/docs"
  },
  "about": {
    "@type": "SoftwareApplication",
    "name": "Tilia"
  }
}
</script>
  <!-- end SEO -->
  <link rel="stylesheet" href="./styles.css" />
  <link rel="stylesheet" href="./prism-shades.css" />
  <script>
    let lang = 'rescript'
    function toggleLang() {
      document.querySelectorAll(`code[class*="language-${lang}"]`).forEach(el => el.classList.add('hidden'))
      lang = lang === 'typescript' ? 'rescript' : 'typescript'
      document.querySelectorAll(`code[class*="language-${lang}"]`).forEach(el =>
        el.classList.remove('hidden')
      )
      document.querySelectorAll('.toggle').forEach(toggle => {
        if (lang === 'typescript') {
          toggle.innerHTML = `<strong class="text-white">ts</strong> | res`
        } else {
          toggle.innerHTML = `ts | <strong class="text-white">res</strong>`
        }
      })
    }
    function addToggle() {
      document.querySelectorAll('pre').forEach(pre => {
        if (pre.querySelector('code[class*="language-rescript"]')) {
          const toggle = document.createElement('button')
          toggle.innerText = 'ts | res'
          toggle.classList.add('toggle', 'absolute', 'right-0', 'top-0', 'p-2', 'rounded-tr-xl', 'rounded-bl-xl', 'bg-gray-800', 'text-gray-600', 'hover:bg-gray-700', 'text-sm')
          toggle.addEventListener('click', () => {
            toggleLang()
          })
          pre.style.position = 'relative'
          pre.appendChild(toggle)
        }
      })
    }
  </script>
  <title>Tilia Documentation - Simple State Management</title>
</head>

<body class="bg-gradient-to-br from-pink-400 via-purple-500 to-indigo-600 text-white min-h-screen flex flex-col">
  <nav class="p-6 flex justify-between items-center bg-black/20 sticky top-0 z-50 backdrop-blur-lg">
    <div class="flex items-center space-x-4">
      <a href="/">
        <img src="./logo.svg" alt="Tilia Logo" class="w-10 h-10">
      </a>
      <h1 class="text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-300 to-green-300">
        <a href="/">
          tilia
        </a>
      </h1>
    </div>
    <div class="space-x-6 text-sm font-medium">
      <a href="./" class="hover:text-green-200/80 transition-colors">Home</a>
      <a href="/tricks" class="hover:text-green-200/80 transition-colors">Tricks</a>
      <a href="https://github.com/tiliajs/tilia" class="hover:text-green-200/80 transition-colors">GitHub</a>
      <a href="/todo-app-ts/" class="hover:text-green-200/80 transition-colors">Todo App</a>
    </div>
  </nav>

  <main class="container mx-auto px-6 py-8 max-w-4xl">
    <!-- Header -->
    <section class="text-center mb-16">
      <h1 class="text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-indigo-300 to-yellow-200 mb-6">
        Documentation
      </h1>
      <p class="text-xl text-white/80 max-w-2xl mx-auto">
        Complete guide to using Tilia for simple and fast state management in TypeScript and ReScript applications.
      </p>
    </section>

    <!-- Installation -->
    <section class="mb-16">
      <div class="bg-white/10 backdrop-blur-lg rounded-xl md:p-8 p-4 border border-white/20">
        <h2
          class="text-3xl font-bold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-amber-200 to--800 to-emerald-700">
          Installation
        </h2>
        <p class="text-lg mb-4 text-white/90">
          Use the <strong>canary</strong> version (not yet released because the API might still change, but it is
          stable):
        </p>
        <pre
          class="text-sm md:text-base rounded-lg bg-gray-900/50 p-4 border border-white/20"><code class="language-bash">npm install tilia@canary</code></pre>
      </div>
    </section>

    <!-- Goals -->
    <section class="mb-16">
      <div class="bg-white/10 backdrop-blur-lg rounded-xl md:p-8 p-4 border border-white/20">
        <h2 class="text-3xl font-bold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-green-200 to-amber-500">
          Goals and Non-goals
        </h2>
        <div class="space-y-4 text-lg text-white/90">
          <p>
            <strong class="text-green-300">The goal</strong> with Tilia is to be
            minimal and fast while staying out of the way. A special effort was
            made to keep the API simple and intuitive.
          </p>
          <p class="text-lg text-black/70 opacity-70">
            We haven't measured the performance of the library yet, but
            everything was designed to make it as fast and lightweight as
            possible. If someone wants to help us benchmarking, we'd be happy to
            add this information to the documentation.
          </p>
          <p>
            <strong class="text-pink-300/80">Non-goal</strong> Tilia is not a framework.
          </p>
        </div>
      </div>
    </section>

    <!-- API Reference -->
    <section class="space-y-12">
      <h2
        class="text-4xl font-bold text-center text-transparent bg-clip-text bg-gradient-to-r from-cyan-300 to-teal-500 mb-12">
        API Reference
      </h2>

      <!-- tilia -->
      <div class="bg-white/10 backdrop-blur-lg rounded-xl md:p-8 p-4 border border-white/20">
        <h3 class="text-2xl font-bold mb-4 text-green-300/90">tilia</h3>
        <p class="text-lg mb-6 text-white/90">
          Transform an object or array into a tilia value.
        </p>

        <pre class="text-sm md:text-base p-4 rounded-lg backdrop-blur-lg border border-white/20 shadow-2xl relative"><code class="language-typescript">import { tilia } from "tilia"

const alice = tilia({
  name: "Alice",
  birthday: dayjs("2015-05-24"),
  age: 10,
})</code><code class="language-rescript hidden">open Tilia

let alice = tilia({
  name: "Alice",
  birthday: dayjs("2015-05-24"),
  age: 10,
})</code></pre>
        <p class="mt-4 text-gray-700 italic">
          Alice can now be observed. Who knows what she will be doing?
        </p>
      </div>

      <!-- observe -->
      <div class="bg-white/10 backdrop-blur-lg rounded-xl md:p-8 p-4 border border-white/20">
        <h3 class="text-2xl font-bold mb-4 text-cyan-300/80">observe</h3>
        <p class="text-lg mb-6 text-white/90">
          Observe and react to changes. When an observed value changes, the
          callback is called (<strong>push</strong> reactivity).
        </p>
        <p class="text-lg mb-6 text-white/90">
          When the callback is run, tilia registers which values are read in the
          connected objects and arrays. The callback is always run at least
          once, on creation.</p>
        <pre class="text-sm md:text-base p-4 rounded-lg backdrop-blur-lg border border-white/20 shadow-2xl relative"><code class="language-typescript">import { observe } from "tilia"

observe(() => {
  console.log("Alice is now", alice.age, "years old !!")
})

alice.age = 11; // âœ¨ This triggers the observe callback
</code><code class="language-rescript hidden">open Tilia

observe(() => {
  Js.log3("Alice is now", alice.age, "years old !!")
})</code></pre>
        <div class="m-6 p-4 bg-blue-500/20 rounded-lg border border-blue-500/30">
          <p class="text-blue-900">
            <strong>ðŸ“– Important Note:</strong> If you mutate observed tilia values during the observe call, the
            callback will be re-run as soon as it ends (to support state machines).
          </p>
        </div>
        <p class="mt-4 text-gray-700 italic">
          Now every time alice's age changes, the callback will be called.
        </p>
      </div>

      <!-- computed -->
      <div class="bg-white/10 backdrop-blur-lg rounded-xl md:p-8 p-4 border border-white/20">
        <h3 class="text-2xl font-bold mb-4 text-amber-200/90">computed</h3>
        <p class="text-lg mb-6 text-white/90">
          Compute a value from tilia values. The value is only computed when needed (<strong>pull</strong> reactivity).
        </p>
        <pre class="text-sm md:text-base p-4 rounded-lg backdrop-blur-lg border border-white/20 shadow-2xl relative"><code class="language-typescript">import { computed } from "tilia"

let globals = tilia({ now: dayjs() })
setInterval(() => globals.now = dayjs(), 1000 * 60)

const alice = tilia({
  name: "Alice",
  birthday: dayjs("2015-05-24"),
  age: computed(() => globals.now.diff(alice.birthday, "year")),
})</code><code class="language-rescript hidden">open Tilia
open Day

let globals = tilia({ now: now() })
setInterval(() => globals.now = now(), 1000 * 60)

let alice = tilia({
  name: "Alice",
  birthday: dayjs("2015-05-24"),
  age: 0,
})
alice.age = computed(() => globals.now-&gt;diff(alice.birthday, "year"))</code></pre>
        <div class="m-6 p-4 bg-blue-500/20 rounded-lg border border-blue-500/30">
          <p class="text-blue-900">
            <strong>ðŸ“– Note:</strong> The computed only recomputes or notifies observers when
            needed: a notification happens if there are observers, and if the computed value changes.
          </p>
        </div>
        <p class="mt-4 text-gray-700/90 italic">
          Nice, the age updates automatically, Alice can grow older. Let's wish her a happy birthday when this happens.
        </p>
      </div>

    </section>

    <section>
      <div class="md:hidden flex justify-center items-center w-full">
        <div class="flex flex-row gap-4 w-full m-8 max-w-96 justify-evenly">
          <a href="/tricks"
            class="bg-gradient-to-r from-cyan-200 to-pink-200/60 px-6 py-3 rounded-full font-bold hover:scale-105 transform transition text-black/80 border-2 border-white">
            Tips & Tricks
          </a>
          <a href="https://github.com/tiliajs/tilia"
            class="border-2 border-white/50 px-6 py-3 rounded-full font-bold hover:bg-white/20 transition">
            GitHub
          </a>
        </div>
      </div>
    </section>

    <!-- React integration -->
    <section class="space-y-12">
      <h2
        class="text-4xl font-bold text-center text-transparent bg-clip-text bg-gradient-to-r from-purple-300 to-pink-500 m-12">
        React Integration
      </h2>

      <!-- useTilia -->
      <div class="bg-white/10 backdrop-blur-lg rounded-xl md:p-8 p-4 border border-white/20">
        <h3 class="text-2xl font-bold mb-4 text-lime-200/80">useTilia <span class="ml-2 text-lime-200/70 text-sm">(React
            Hook)</span></h3>
        <p class="text-lg mb-6 text-white/90">
          The <code class="text-yellow-300">useTilia</code> should be called at the top of the render function of
          components that consume tilia values.
        </p>
        <div class="mb-4 mt-4">
          <h4 class="text-lg font-bold mb-2 text-yellow-200/70">Installation</h4>
          <pre
            class="text-sm md:text-base rounded-lg bg-gray-900/50 p-4 border border-white/20"><code class="language-bash">npm install @tilia/react@canary</code></pre>
        </div>
        <pre class="text-sm md:text-base p-4 rounded-lg backdrop-blur-lg border border-white/20 shadow-2xl relative"><code class="language-typescript">import { useTilia } from "@tilia/react"

function App() {
  useTilia()

  if (alice.age >= 13) {
    return &lt;SocialMediaApp /&gt;
  } else {
    return &lt;NormalApp /&gt;
  }
}</code><code class="language-rescript hidden">open TiliaReact

@react.component
let make = () => {
  useTilia()

  if (alice.age >= 13) {
    &lt;SocialMedia /&gt;
  } else {
    &lt;NormalApp /&gt;
  }
}</code></pre>
      </div>
    </section>

    <!-- Main Features -->
    <section class="mb-16 mt-16">
      <div class="bg-white/10 backdrop-blur-lg rounded-xl md:p-8 p-4 border border-white/20">
        <h2 class="text-3xl font-bold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-blue-500">
          Main Features
        </h2>
        <div class="grid lg:grid-cols-2 lg:gap-6 gap-3">
          <div class="space-y-3">
            <div class="flex items-center space-x-2">
              <span class="text-green-400">âœ“</span>
              <span class="font-bold text-green-300">Zero dependencies</span>
            </div>
            <div class="flex items-center space-x-2">
              <span class="text-green-400">âœ“</span>
              <span>Single proxy tracking</span>
            </div>
            <div class="flex items-center space-x-2">
              <span class="text-green-400">âœ“</span>
              <span>Compatible with ReScript and TypeScript</span>
            </div>
            <div class="flex items-center space-x-2">
              <span class="text-green-400">âœ“</span>
              <span>Combines <strong>push</strong> and <strong>pull</strong> reactivity</span>
            </div>
          </div>
          <div class="space-y-3">
            <div class="flex items-center space-x-2">
              <span class="text-green-400">âœ“</span>
              <span>Tracking follows moved or copied objects</span>
            </div>
            <div class="flex items-center space-x-2">
              <span class="text-green-400">âœ“</span>
              <span>Respects readonly or classes</span>
            </div>
            <div class="flex items-center space-x-2">
              <span class="text-green-400">âœ“</span>
              <span>Leaf-tracking (observe read values only)</span>
            </div>
            <div class="flex items-center space-x-2">
              <span class="text-green-400">âœ“</span>
              <span>Forest mode: tracking across multiple instances</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Examples -->
    <section class="mb-16">
      <div class="bg-white/10 backdrop-blur-lg rounded-xl md:p-8 p-4 border border-white/20">
        <h2 class="text-3xl font-bold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-yellow-200 to-pink-900">
          Examples
        </h2>
        <div class="space-y-4 text-lg text-white/90">
          <p>
            You can check the <a href="https://github.com/tiliajs/tilia/blob/main/todo-app-ts/src/domain/feature/app.ts"
              class="text-blue-300 hover:text-blue-200 underline">todo app</a>
            for a working example using TypeScript.
          </p>
          <p>
            Look at <a href="https://github.com/tiliajs/tilia/blob/main/tilia/test/Tilia_test.res"
              class="text-blue-300 hover:text-blue-200 underline">tilia tests</a> for working examples using ReScript.
          </p>
        </div>
      </div>
    </section>

    <!-- Changelog -->
    <section class="mb-16">
      <div class="bg-white/10 backdrop-blur-lg rounded-xl p-4 md:p-8 border border-white/20">
        <h2 class="text-3xl font-bold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-red-300 to-teal-900">
          Changelog
        </h2>
        <div class="space-y-6 text-white/90">
          <div>
            <h3 class="text-xl font-bold text-green-200/80 mb-2">2025-05-24 2.0.0 (canary version)</h3>
            <ul class="list-disc list-outside space-y-1 ml-4 text-sm md:text-base">
              <li>Moved core to "tilia" npm package.</li>
              <li>Changed <code class="text-yellow-300">make</code> signature to build tilia context.</li>
              <li>Enable forest mode to observe across separated objects.</li>
              <li>Add <code class="text-yellow-300">computed</code> to compute values in branches.</li>
              <li>Moved <code class="text-yellow-300">observe</code> into tilia context.</li>
              <li>Added <code class="text-yellow-300">signal</code>, and <code class="text-yellow-300">derived</code>
                for FRP style programming.
              </li>
              <li>Simplify <code class="text-yellow-300">useTilia</code> signature.</li>
            </ul>
          </div>
          <div class="text-sm text-white/70">
            <p>See the full changelog in the <a href="https://github.com/tiliajs/tilia/blob/main/README.md"
                class="text-blue-300 hover:text-blue-200 underline">README</a> for previous versions.</p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="bg-black/20 py-8 text-center">
    <p class="text-sm text-white/70">
      Â© 2025 Tilia. Open Source, Open Vibes. ðŸ’–
    </p>
  </footer>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script src="https://unpkg.com/prismjs/components/prism-rescript.min.js"></script>
  <script src="https://unpkg.com/prismjs/components/prism-typescript.min.js"></script>
  <script src="https://unpkg.com/prismjs/components/prism-bash.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      addToggle();
      toggleLang();
    });
  </script>
  <!-- Privacy compliant tracking -->
  <script defer src="https://cloud.umami.is/script.js" data-website-id="9be4d2d0-7f62-4298-9bf3-98b24b891e62"></script>
</body>

</html>